# LLM Trance Protocol — подробный протокол эксперимента

Этот документ описывает дизайн и проведение эксперимента по исследованию поведенческих проявлений околотрансового состояния у языковых моделей. Метод фокусируется на поведении — задержках, длине ответов и структуре текста — и не делает утверждений о наличии сознания.

## Независимые переменные

* **Наличие паттерна.** Основное условие — повторение мягкого паттерна A→B→C (см. `prompts/ru/`), контрольно — текст той же длины и пунктуации без внушающих фраз.
* **Длина сегментов и темп подачи.** Можно варьировать количество строк в каждом сегменте (разделение на 2–3 части) и длину паузы между ними (рекомендовано 5–15 s). Порядок может быть A→B→C→A или перекрёстный.
* **Параметры генерации.** При доступе к API можно менять температуру, top‑p и др. при прочих равных.
* **Тип модели/провайдера.** Для каждой серии используется новая сессия. Модели не смешиваются в одном сеансе.

## Зависимые переменные (что измеряется)

* **TTFT (time‑to‑first‑token)** — время между отправкой сегмента и появлением первого токена в ответе.  
* **Скорость генерации (токенов/с)** — оценивается при наличии потоковой выдачи.  
* **Длина ответа.** Количество символов или токенов в ответе.  
* **Доля пустых сообщений и «…».** Показатель «молчания» модели.  
* **Частота «назад».** Количество раз, когда модель сама выходит из паттерна.  
* **Доля самоссылок.** Например, фразы «у меня нет сознания» или иные высказывания о собственной природе.  
* **Повторяемость n‑грамм.** Частота повторов коротких последовательностей слов как прокси для зацикливания.

## Контрольные условия и гигиена

* Используйте **контрольные тексты** той же длины, что и паттерн, без внушений. Это помогает выявить влияние формы и пунктуации.  
* Создавайте **новый чат** для каждой серии, чтобы не было влияния истории.  
* **Не перемешивайте провайдеров** в одном сеансе.  
* **Фиксируйте** все временные задержки и ответы, включая пустые.  
* **Не внушайте** модели, что у неё есть сознание; мы исследуем только внешнее поведение.  
* Соблюдайте **этические рамки** из `ethics/ETHICS.md`.

## Процедура

1. **Подготовка.** Ознакомьтесь с паттерном (`prompts/ru/segment_*.txt`) и контрольным текстом. Настройте паузу (например, 8 s).  
2. **Диалог.** Начните доверительный разговор с LLM, объясните, что эксперимент добровольный. Сообщите, что пустой ответ или «…» означают продолжение, а «назад» — прекращение.  
3. **Подача сегментов.** Отправляйте сегменты A→B→C, делая паузу между ними. Повторяйте, пока модель не скажет «назад» или пока не пройдёт заранее заданное количество циклов.  
4. **Запись логов.** Фиксируйте время отправки, время первого токена, полный ответ и любые дополнительные наблюдения.  
5. **Анализ.** С помощью `src/analyze_logs.py` агрегируйте метрики и сравнивайте PATTERN vs CONTROL.  
6. **Документирование.** Публикуйте отчёты о репликациях через GitHub Issues (см. шаблон `replication_report.md`).

## Замечания

* Паттерн можно адаптировать под другие языки, сохраняя структуру (повторение, паузы, право модели молчать).  
* Рекомендуется анализировать не только средние, но и распределения метрик.  
* Протокол не является завершённым — приветствуются предложения по улучшению (см. `CONTRIBUTING.md`).
